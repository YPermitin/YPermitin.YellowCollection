# Пользователи информационной базы

Два простых отчета по пользователям информационной базы и информации по ним.

Материалы по другим темам Вы можете найти на сайте [ypermitin.github.io](https://ypermitin.github.io/), а новости по проектам или новым материалам в [Telegram-канале](https://t.me/TinyDevVault).

## Состав

* [media](media) - медиафайлы для документации данной разработки.
* [src](src) - файлы исходного кода.
    * [ПользователиИнформационнойБазы](./src/%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B8%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9%D0%91%D0%B0%D0%B7%D1%8B/) - исходный код отчета по пользователям информационной базы, который не привязан к БСП или любым другим подсистемам. Работает в любых конфигурациях.
    * [ПользователиИнформационнойБазыБСП](./src/%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B8%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9%D0%91%D0%B0%D0%B7%D1%8B%D0%91%D0%A1%D0%9F/) - исходный код отчета по пользователям информационной базы, который базируется на БСП и требует ее наличия в конфигурации.

## Назначение и возможности

Простые отчеты для получения информации о пользователях информационной базы с разной степенью детализации. Позволяет получать как основные сведения о пользователях, так и некоторую расширенную информацию в виде хешей паролей, признака активности и др. Может быть использован для контроля учетных записей и другой информации.

![1. Пользователи информационной базы](./media/1.%20%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B8%20%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B1%D0%B0%D0%B7%D1%8B.png)

Основными возможностями инструмента являются:

* Получение основных сведений о пользователях информационной базы:
    * Полное и краткое наименование
    * Сведения об аутентификации средствами платформы 1С (использование, запрет смены пароля, отображение в списке выбора)
    * Сведения об аутентификации средствами операционной системы (использование, имя пользователя ОС)
    * Сведения об аутентификации средствами OpenID (использование)
* Безопасность:
    * Признак активного пользователя (если имеется какой-либо доступ)
    * Использование защиты от опасных действий
    * Сохраняемое значение пароля (значения пароля и хранимые значения пароля в верхнем регистре в виде хеш-функций)
    * Пароль в виде хеша SHA1. Может быть использован для проверки надежности паролей.
* Информация о разделении данных - использование разделителей из конфигурации для пользователей информационной базы.
* Состав ролей для каждого отдельного пользователя.
* Прочие сведения (язык, режим запуска - управляемое или обычное приложение).
* Две версии отчета:
    * "Пользователи информационной базы" - основная версия. Базируется только на сведениях о пользователях информационной базы.
    * "Пользователи информационной базы БСП" - дополнительная версия. Имеет все те же функции, что и отчет в предыдущем пункте, кроме одной - отчет дополнен информацией из справочника "Пользователи" из состава БСП. То есть отчет сопоставляет пользователей информационной базы со справочником пользователи.
* Все версии отчета содержат 3 основных варианта:
    * "Все пользователи" - полная информация о пользователях информационной базы, кроме разделения данных и ролей.
    * "Роли пользователей" - отображает состав ролей для каждого отдельного пользователя.
    * "Разделение данных пользователей" - информация о использовании разделения данных для пользователей.
* Все версии отчета могут быть интегрированы в подсистему "Дополнительные отчеты и обработки" БСП, в том числе и для формирования рассылок и прочего.

Основной набор вариантов отчета:

* Все пользователи
* Роли пользователей
* Разделение данных пользователей
* Дополнительная информация в варианте для БСП

## Требования

Минимальные требования для работы отчетов:

* Платформа 1С версии 8.3.5 и выше.
* Режим работы не имеет значения (клиент-серверный или файловая база. СУБД не имеет значения).
* Управляемые и обычные формы. Отчет не имеет формы, поэтому внешний вид формы зависит от конфигурации и наличия БСП.

Это все, что можно сказать о функционале отчета. Проще простого!

## Принцип работы

Вся информация отчета получается из метода встроенного языка платформы 1С:

```bsl
ПользователиИнформационнойБазы.ПолучитьПользователей()
```

Дополнительная информация в отчет добавляется на основе преобразования полученных данных.