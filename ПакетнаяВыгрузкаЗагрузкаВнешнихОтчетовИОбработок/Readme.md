# Пакетная выгрузка загрузка внешнихО отчетов и обработок

Пакетная выгрузка / загрузка внешних отчетов и обработок для массовый манипуляций с ними.

Материалы по другим темам Вы можете найти на сайте [ypermitin.github.io](https://ypermitin.github.io/), а новости по проектам или новым материалам в [Telegram-канале](https://t.me/TinyDevVault).

## Состав

* [media](media) - медиафайлы для документации данной разработки.
* [src](src) - файлы исходного кода.

## Назначение и возможности

Все разработчики, сопровожденцы и администраторы, имеющие дело с решениями на платформе 1С, встречаются в работе с внешними отчетами и обработками. Задачи разнообразны: от создания простых доработок системы с сохранением поддержки,  до объемной задачи рефакторинга при развертывании нового релиза конфигурации. Иногда даже целые подсистемы или инструменты создаются на внешних обработках, но это выходит за рамки публикации.

![1. Пример работы с обработкой](./media/1.%20%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%BE%D0%B9.gif)

Предлагаемый инструмент поможет упростить решение некоторых возникающих задач, так как позволяет делать пакетную выгрузку внешних отчетов и обработок из справочника в каталог на диске, и обратно.

Основные возможности инструмента:

* Массовая выгрузка дополнительных отчетов и обработок в заданный каталог
* Массовая загрузка внешних отчетов и обработок из каталога (только обновление существующих объектов из файлов без создания новых элементов справочника).
* Установка произвольных фильтров на выгружаемые обработки
* Точное сопоставление ранее выгруженных обработок с элементами справочника при загрузке (если выгрузка выполнялась этим инструментом).
* Механизм регистрации внешних отчетов и обработок БСП при загрузке.
* Возможность ручного сопоставления файлов из каталога с элементами справочника при загрузке.
* Выбор контекста, где находится каталог с обработками (клиент или сервер).
* Поддержка только управляемого приложения. В обычном приложении обработку можно использовать, только встроив ее в конфигурацию.
* Поддержка практически всех современных конфигураций на базе БСП, а также некоторых устаревших решений (УПП 1.3, УТ 10.3 или Бухгалтерия предприятия 2.0). Главное, чтобы было запущено управляемое приложение или обработка была встроена в конфигурации с возможностью использования управляемых форм в обычном приложении.
* Решение также поддерживает несколько "самописных" конфигураций, но не гарантируется, что оно будет работать на каком-то Вашем эксклюзивном решении.

При выгрузке учитываются такие особенности как:

* Одинаковые имена отчета или обработки, прикрепленного к разным элементам справочника.
* Отсутствие двоичных данных в хранилище элемента справочника (да и такое бывает).
* Делается точно сопоставление справочника с выгружаемыми файлами (связка делается через создаваемый файл "config.json").
* Если файл точного сопоставления отсутствует, то поиск идет по имени.

В дополнительных настройках есть возможность включить / отключить (если она доступна в конфигурации) функционал регистрации внешних отчетов и обработок БСП.

![2. Дополнительные настройки](./media/2.%20%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8.png)

Рассмотрим несколько кейсов использования этого инструмента.

## Требования

Для корректной работы обработки требуется платформа 1С:Предприятие не ниже версии 8.3.6.